{"ast":null,"code":"import axios from 'axios';\nimport adapter from \"axios/lib/adapters/http\";\naxios.defaults.adapter = adapter;\nexport class API {\n  constructor(url) {\n    if (url === undefined || url === \"\") {\n      url = process.env.REACT_APP_API_BASE_URL;\n    }\n\n    if (url.endsWith(\"/\")) {\n      url = url.substr(0, url.length - 1);\n    }\n\n    this.url = url;\n  }\n\n  withPath(path) {\n    if (!path.startsWith(\"/\")) {\n      path = \"/\" + path;\n    }\n\n    return `${this.url}${path}`;\n  }\n\n  generateAuthToken() {\n    return \"Bearer \" + new Date().toISOString();\n  }\n\n  async getAllProducts() {\n    return axios.get(this.withPath(\"/products\"), {\n      headers: {\n        \"Authorization\": this.generateAuthToken()\n      }\n    }).then(r => r.data);\n  }\n\n  async getProduct(id) {\n    return axios.get(this.withPath(\"/product/\" + id), {\n      headers: {\n        \"Authorization\": this.generateAuthToken()\n      }\n    }).then(r => r.data);\n  }\n\n}\nexport default new API(process.env.REACT_APP_API_BASE_URL);","map":{"version":3,"sources":["/Users/kiran.rudrangi/source/pact-poc-st2/consumer/src/api.js"],"names":["axios","adapter","defaults","API","constructor","url","undefined","process","env","REACT_APP_API_BASE_URL","endsWith","substr","length","withPath","path","startsWith","generateAuthToken","Date","toISOString","getAllProducts","get","headers","then","r","data","getProduct","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AAEAD,KAAK,CAACE,QAAN,CAAeD,OAAf,GAAyBA,OAAzB;AAEA,OAAO,MAAME,GAAN,CAAU;AAEbC,EAAAA,WAAW,CAACC,GAAD,EAAM;AACb,QAAIA,GAAG,KAAKC,SAAR,IAAqBD,GAAG,KAAK,EAAjC,EAAqC;AACjCA,MAAAA,GAAG,GAAGE,OAAO,CAACC,GAAR,CAAYC,sBAAlB;AACH;;AACD,QAAIJ,GAAG,CAACK,QAAJ,CAAa,GAAb,CAAJ,EAAuB;AACnBL,MAAAA,GAAG,GAAGA,GAAG,CAACM,MAAJ,CAAW,CAAX,EAAcN,GAAG,CAACO,MAAJ,GAAa,CAA3B,CAAN;AACH;;AACD,SAAKP,GAAL,GAAWA,GAAX;AACH;;AAEDQ,EAAAA,QAAQ,CAACC,IAAD,EAAO;AACX,QAAI,CAACA,IAAI,CAACC,UAAL,CAAgB,GAAhB,CAAL,EAA2B;AACvBD,MAAAA,IAAI,GAAG,MAAMA,IAAb;AACH;;AACD,WAAQ,GAAE,KAAKT,GAAI,GAAES,IAAK,EAA1B;AACH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChB,WAAO,YAAY,IAAIC,IAAJ,GAAWC,WAAX,EAAnB;AACH;;AAED,QAAMC,cAAN,GAAuB;AACnB,WAAOnB,KAAK,CAACoB,GAAN,CAAU,KAAKP,QAAL,CAAc,WAAd,CAAV,EAAsC;AACzCQ,MAAAA,OAAO,EAAE;AACL,yBAAiB,KAAKL,iBAAL;AADZ;AADgC,KAAtC,EAKFM,IALE,CAKGC,CAAC,IAAIA,CAAC,CAACC,IALV,CAAP;AAMH;;AAED,QAAMC,UAAN,CAAiBC,EAAjB,EAAqB;AACjB,WAAO1B,KAAK,CAACoB,GAAN,CAAU,KAAKP,QAAL,CAAc,cAAca,EAA5B,CAAV,EAA2C;AAC9CL,MAAAA,OAAO,EAAE;AACL,yBAAiB,KAAKL,iBAAL;AADZ;AADqC,KAA3C,EAKFM,IALE,CAKGC,CAAC,IAAIA,CAAC,CAACC,IALV,CAAP;AAMH;;AAvCY;AA0CjB,eAAe,IAAIrB,GAAJ,CAAQI,OAAO,CAACC,GAAR,CAAYC,sBAApB,CAAf","sourcesContent":["import axios from 'axios';\nimport adapter from \"axios/lib/adapters/http\";\n\naxios.defaults.adapter = adapter;\n\nexport class API {\n\n    constructor(url) {\n        if (url === undefined || url === \"\") {\n            url = process.env.REACT_APP_API_BASE_URL;\n        }\n        if (url.endsWith(\"/\")) {\n            url = url.substr(0, url.length - 1)\n        }\n        this.url = url\n    }\n\n    withPath(path) {\n        if (!path.startsWith(\"/\")) {\n            path = \"/\" + path\n        }\n        return `${this.url}${path}`\n    }\n\n    generateAuthToken() {\n        return \"Bearer \" + new Date().toISOString()\n    }\n\n    async getAllProducts() {\n        return axios.get(this.withPath(\"/products\"), {\n            headers: {\n                \"Authorization\": this.generateAuthToken()\n            }\n        })\n            .then(r => r.data);\n    }\n\n    async getProduct(id) {\n        return axios.get(this.withPath(\"/product/\" + id), {\n            headers: {\n                \"Authorization\": this.generateAuthToken()\n            }\n        })\n            .then(r => r.data);\n    }\n}\n\nexport default new API(process.env.REACT_APP_API_BASE_URL);"]},"metadata":{},"sourceType":"module"}